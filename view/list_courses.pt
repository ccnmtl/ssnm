<?xml version="1.0"?>
<html metal:use-macro="sitemacros/macros/ecomap">
<body metal:fill-slot="body">
<div id="header"><img src="/images/logo.png" /></div>

<div id="logout">You are logged in as <span tal:content="loginName"/> <a href="/logout">Log Out</a></div>
<metal:block use-macro="sitemacros/macros/message" />
<p/>
<form action="/update" method="post">

<a href="/create_course_form">Create New Course</a>

<h1>My Courses</h1>

<p tal:condition="not:myCourses">You do not have any courses.</p>

<table tal:condition="myCourses || instructorOf">
<tr><th></th><th>Description</th><th>Instructor</th></tr>
<tr tal:repeat="course instructorOf">
<td></td>
<td><a tal:attributes="href string:/course/${course/id}/" tal:content="course/description" /></td>
<td tal:content="string:${course/instructor/firstname} ${course/instructor/lastname}"></td>
</tr>
<tr><td colspan="3"><hr/></td></tr>
<tr tal:repeat="course myCourses">
<td></td>
<td><a tal:attributes="href string:/course/${course/id}/" tal:content="course/description" /></td>
<td tal:content="string:${course/instructor/firstname} ${course/instructor/lastname}"></td>
</tr>
</table>

<h4 style="cursor:pointer" tal:condition="allCourses" onClick="document.getElementById('allcourses').style.display = (document.getElementById('allcourses').style.display == 'none') ? 'block' : 'none'">All Courses</h4>


<div tal:condition="allCourses" id="allcourses" style="display:none">
<table tal:condition="allCourses">
<tr><th></th><th>Description</th><th>Instructor</th></tr>
<tr tal:repeat="course allCourses">
<td></td>
<td><a tal:attributes="href string:/course/${course/id}/" tal:content="course/description" /></td>
<td tal:content="string:${course/instructor/firstname} ${course/instructor/lastname}"></td>
</tr>
</table>
</div>

</form>

</body>
</html>
